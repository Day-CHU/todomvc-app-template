import{d as T,o as p,c as h,t as y,n as I,i as Y,g as W,r as b,a as X,b as Z,e as H,s as x,f as l,h as g,w as O,j as C,v as J,k as $,p as G,l as B,m as Q,u as n,F as A,q as ee,x as w,y as U,z as oe,A as E,B as te,C as se}from"./vendor.f015e55d.js";const de=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerpolicy&&(a.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?a.credentials="include":d.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(d){if(d.ep)return;d.ep=!0;const a=t(d);fetch(d.href,a)}};de();const le=T({props:{label:null,active:{type:Boolean}},emits:["click"],setup(e){return(o,t)=>(p(),h("a",{class:I({selected:e.active}),onClick:t[0]||(t[0]=s=>o.$emit("click",e.label.value)),href:"#/"},y(e.label.displayText),3))}}),ae={apiKey:"AIzaSyCVrZLo0p1odMXf9IlEpn0x13P30Eor79M",authDomain:"todo-ed1fc.firebaseapp.com",databaseURL:"https://todo-ed1fc-default-rtdb.firebaseio.com",projectId:"todo-ed1fc",storageBucket:"todo-ed1fc.appspot.com",messagingSenderId:"385049153898",appId:"1:385049153898:web:f54b669d401460f53a9513",measurementId:"G-88FVDYK078"},ne=Y(ae),D=W(ne),R=b(D,"todos");var r=(e=>(e[e.UNSORTED=0]="UNSORTED",e[e.ASCENDING=1]="ASCENDING",e[e.DESCENDING=2]="DESCENDING",e))(r||{});function L(e,o){return{checked:!1,message:e,id:o,key:o}}function ce(e,o,t){switch(t){case r.ASCENDING:return e.checked===o.checked?0:e.checked?1:-1;case r.DESCENDING:return e.checked===o.checked?0:e.checked?-1:1;case r.UNSORTED:return e.id===o.id?0:e.id>o.id?1:-1}}function re(e){var t;const o=e.val()&&Object.entries(e.val()).map(([s,d])=>(d.key=parseInt(s),d));return(t=o==null?void 0:o.filter(s=>s!==void 0))!=null?t:[]}function ie(){return[L("Welcome",0),L("Sample",1)]}const F=X("todos",{state:()=>({_displayedTodos:[],_filter:"all",_sort:r.UNSORTED,maxId:0}),getters:{todos:e=>{if(!e._displayedTodos)return;const o=e._displayedTodos;switch(o.sort((t,s)=>ce(t,s,e._sort)),e._filter){case"unchecked":return o.filter(t=>!t.checked);case"checked":return o.filter(t=>t.checked);default:return o}},tasksLeft:e=>{var o,t;return(t=(o=e._displayedTodos)==null?void 0:o.filter(s=>!s.checked).length)!=null?t:0},filter:e=>e._filter},actions:{destroyTodo(e){console.log("destroying todo",e);const o=b(D,"todos/"+e.key);Z(o).then(()=>{console.log("data saved successfully")}).catch(t=>{console.warn("error",t)})},clearCompleted(){this._displayedTodos&&(this._displayedTodos=this._displayedTodos.filter(e=>!e.checked),this.saveAllTodos())},loadData(){H(R,e=>{this._displayedTodos=re(e),console.log("this._displayedTodos",this._displayedTodos);const o=this._displayedTodos.reduce((t,s)=>s.id>t?s.id:t,0);console.log({highestId:o}),this.maxId=o+1,console.log("this.maxId",this.maxId)})},setFilter(e){this._filter=e},setSort(e){this._sort=e},updateTodo(e){if(!this._displayedTodos)return;const o=this._displayedTodos.findIndex(t=>e.id===t.id);this._displayedTodos[o]=e,this.saveTodo(e)},addTodo(e){var t,s,d;const o={checked:!1,message:e,id:this.maxId++,key:((s=(t=this._displayedTodos)==null?void 0:t.reduce((a,i)=>(i.key>a,i.key),0))!=null?s:-1)+1};console.log("adding todo from pinia",e),(d=this._displayedTodos)==null||d.push(o),this.saveTodo(o)},saveAllTodos(){var e;(e=this._displayedTodos)==null||e.forEach((o,t)=>{o.key=t}),x(R,this._displayedTodos).then(()=>{console.log("data saved successfully")}).catch(o=>{console.warn("error",o)})},saveTodo(e){const o=b(D,"todos/"+e.key);x(o,e).then(()=>{console.log("data saved successfully")}).catch(t=>{console.warn("error",t)})},loadOnboardingTodos(){this._displayedTodos=ie(),this.saveAllTodos()}}});var N=(e,o)=>{const t=e.__vccOpts||e;for(const[s,d]of o)t[s]=d;return t};const ue={class:"background"},pe=T({setup(e){const o=F();function t(){console.log("Load Onboarding Todos"),o.loadOnboardingTodos()}return(s,d)=>(p(),h("div",ue,[l("p",{class:"message",onClick:t},"Load Onboarding Todos?")]))}});var fe=N(pe,[["__scopeId","data-v-ae225676"]]);const _e=e=>(G("data-v-1b249b14"),e=e(),B(),e),he={class:"view"},me=_e(()=>l("input",{class:"edit",value:"Create a TodoMVC template"},null,-1)),ve=T({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","destroyTodo"],setup(e,{emit:o}){const t=e,s=g(t.modelValue.checked),d=g(t.modelValue.message);O(()=>t.modelValue,c=>{c.checked!==s.value&&(s.value=c.checked),c.message!==d.value&&(d.value=c.message)}),O(()=>d.value,c=>{console.log("newMessage",c);const u=t.modelValue;u.message=c,o("update:modelValue",u)});function a(){console.log("toggleChecked",t.modelValue.checked);const c=t.modelValue;c.checked=t.modelValue.checked,s.value=t.modelValue.checked,o("update:modelValue",c)}function i(){console.log("destroy",t.modelValue.id),o("destroyTodo")}return(c,u)=>(p(),h("li",null,[l("div",he,[C(l("input",{class:"toggle",title:"Toggle Checkbox",type:"checkbox","onUpdate:modelValue":[u[0]||(u[0]=m=>t.modelValue.checked=m),a]},null,512),[[J,t.modelValue.checked]]),l("label",null,[C(l("input",{type:"text",class:I({completed:s.value}),"onUpdate:modelValue":u[1]||(u[1]=m=>d.value=m)},null,2),[[$,d.value]])]),l("button",{class:"destroy",title:"Delete Todo",onClick:i})]),me]))}});var ye=N(ve,[["__scopeId","data-v-1b249b14"]]);const K=e=>(G("data-v-a9a836c6"),e=e(),B(),e),ge={class:"todoapp"},Te={class:"header"},ke=K(()=>l("h1",null,"todos",-1)),Ee=["onKeypress"],be={class:"main"},Ce=K(()=>l("input",{id:"toggle-all",class:"toggle-all",type:"checkbox"},null,-1)),De={key:0,class:"todo-list"},Ie={class:"footer"},Ne={class:"todo-count"},Se={class:"filters"},Ve=T({setup(e){const o=F();o.loadData(),o.tasksLeft;const t=g(""),s=g(r.UNSORTED);function d(){console.log("showChecked")}function a(f){o.destroyTodo(f),console.log("destroyTodo from parent",f)}function i(){o.clearCompleted()}function c(f){o.setFilter(f)}function u(){s.value=(s.value+1)%3,s.value===r.UNSORTED&&console.log("sortTodos","SortState.UNSORTED"),s.value===r.ASCENDING&&console.log("sortTodos","SortState.ASCENDING"),s.value===r.DESCENDING&&console.log("sortTodos","SortState.DESCENDING"),o.setSort(s.value)}function m(f){o.updateTodo(f)}function P(){console.log("addTodo",t.value),o.addTodo(t.value),t.value=""}return console.log("hello from app.vue",o.todos),(f,S)=>{var V;const j=ye,z=fe,k=le;return p(),h(A,null,[l("section",ge,[l("header",Te,[ke,C(l("input",{class:"new-todo",onKeypress:Q(P,["enter"]),placeholder:"What needs to be done?",autofocus:"","onUpdate:modelValue":S[0]||(S[0]=_=>t.value=_)},null,40,Ee),[[$,t.value]])]),l("section",be,[Ce,l("label",{onClick:u,for:"sort-todos",title:"Sort Todos",class:I({"sort-arrow":!0,"sort-arrow-right":s.value===n(r).UNSORTED,"sort-arrow-up":s.value===n(r).ASCENDING,"sort-arrow-down":s.value===n(r).DESCENDING})}," Sort Todos",2),n(o).todos?(p(),h("ul",De,[(p(!0),h(A,null,ee(n(o).todos,_=>(p(),w(j,{key:_.id,modelValue:n(o).todos[n(o).todos.findIndex(v=>_.id===v.id)],"onUpdate:modelValue":[v=>n(o).todos[n(o).todos.findIndex(q=>_.id===q.id)]=v,v=>m(_)],onDestroyTodo:v=>a(_)},null,8,["modelValue","onUpdate:modelValue","onDestroyTodo"]))),128)),n(o).todos.length===0?(p(),w(z,{key:0})):U("",!0)])):U("",!0)]),l("footer",Ie,[l("span",Ne,[l("strong",null,y(n(o).tasksLeft),1),oe(" item"+y(n(o).tasksLeft===1?"":"s")+" left",1)]),l("ul",Se,[l("li",null,[E(k,{type:"button",onClick:c,active:n(o).filter==="all",label:{displayText:"All",value:"all"}},null,8,["active"])]),l("li",null,[E(k,{type:"button",onClick:c,active:n(o).filter==="unchecked",label:{displayText:"Unchecked",value:"unchecked"}},null,8,["active"])]),l("li",null,[E(k,{type:"button",onClick:c,active:n(o).filter==="checked",label:{displayText:"Checked",value:"checked"}},null,8,["active"])])]),l("button",{type:"button",onClick:i,class:"clear-completed"}," Clear completed ")])]),l("div",{onClick:d},y((V=n(o).todos)==null?void 0:V.length),1)],64)}}});var xe=N(Ve,[["__scopeId","data-v-a9a836c6"]]);const M=te(xe),Oe=se();M.use(Oe);M.mount("#app");
