import{d as T,o as p,c as h,t as E,n as N,i as j,g as z,r as b,a as q,b as Y,e as W,s as V,f as l,h as v,w as x,j as D,v as X,k as R,p as L,l as $,m as Z,u as n,F as H,q as J,x as O,y as A,z as Q,A as k,B as ee,C as oe}from"./vendor.f015e55d.js";const te=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))s(d);new MutationObserver(d=>{for(const a of d)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(d){const a={};return d.integrity&&(a.integrity=d.integrity),d.referrerpolicy&&(a.referrerPolicy=d.referrerpolicy),d.crossorigin==="use-credentials"?a.credentials="include":d.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(d){if(d.ep)return;d.ep=!0;const a=t(d);fetch(d.href,a)}};te();const se=T({props:{label:null,active:{type:Boolean}},emits:["click"],setup(e){return(o,t)=>(p(),h("a",{class:N({selected:e.active}),onClick:t[0]||(t[0]=s=>o.$emit("click",e.label.value)),href:"#/"},E(e.label.displayText),3))}}),de={apiKey:"AIzaSyCVrZLo0p1odMXf9IlEpn0x13P30Eor79M",authDomain:"todo-ed1fc.firebaseapp.com",databaseURL:"https://todo-ed1fc-default-rtdb.firebaseio.com",projectId:"todo-ed1fc",storageBucket:"todo-ed1fc.appspot.com",messagingSenderId:"385049153898",appId:"1:385049153898:web:f54b669d401460f53a9513",measurementId:"G-88FVDYK078"},le=j(de),I=z(le),w=b(I,"todos");var i=(e=>(e[e.UNSORTED=0]="UNSORTED",e[e.ASCENDING=1]="ASCENDING",e[e.DESCENDING=2]="DESCENDING",e))(i||{});function U(e,o){return{checked:!1,message:e,id:o,key:o}}function ae(e,o,t){switch(t){case i.ASCENDING:return e.checked===o.checked?0:e.checked?1:-1;case i.DESCENDING:return e.checked===o.checked?0:e.checked?-1:1;case i.UNSORTED:return e.id===o.id?0:e.id>o.id?1:-1}}function ne(e){var t;const o=e.val()&&Object.entries(e.val()).map(([s,d])=>(d.key=parseInt(s),d));return(t=o==null?void 0:o.filter(s=>s!==void 0))!=null?t:[]}function ce(){return[U("Welcome",0),U("Sample",1)]}const G=q("todos",{state:()=>({_displayedTodos:[],_filter:"all",_sort:i.UNSORTED,maxId:0}),getters:{todos:e=>{if(!e._displayedTodos)return;const o=e._displayedTodos;switch(o.sort((t,s)=>ae(t,s,e._sort)),e._filter){case"unchecked":return o.filter(t=>!t.checked);case"checked":return o.filter(t=>t.checked);default:return o}},tasksLeft:e=>{var o,t;return(t=(o=e._displayedTodos)==null?void 0:o.filter(s=>!s.checked).length)!=null?t:0},filter:e=>e._filter},actions:{destroyTodo(e){console.log("destroying todo",e);const o=b(I,"todos/"+e.key);Y(o).then(()=>{console.log("data saved successfully")}).catch(t=>{console.warn("error",t)})},clearCompleted(){this._displayedTodos&&(this._displayedTodos=this._displayedTodos.filter(e=>!e.checked),this.saveAllTodos())},loadData(){W(w,e=>{this._displayedTodos=ne(e),console.log("this._displayedTodos",this._displayedTodos);const o=this._displayedTodos.reduce((t,s)=>s.id>t?s.id:t,0);console.log({highestId:o}),this.maxId=o+1,console.log("this.maxId",this.maxId)})},setFilter(e){this._filter=e},setSort(e){this._sort=e},updateTodo(e){if(!this._displayedTodos)return;const o=this._displayedTodos.findIndex(t=>e.id===t.id);this._displayedTodos[o]=e,this.saveTodo(e)},addTodo(e){var t,s,d;const o={checked:!1,message:e,id:this.maxId++,key:((s=(t=this._displayedTodos)==null?void 0:t.reduce((a,c)=>(c.key>a,c.key),0))!=null?s:-1)+1};console.log("adding todo from pinia",e),(d=this._displayedTodos)==null||d.push(o),this.saveTodo(o)},saveAllTodos(){var e;(e=this._displayedTodos)==null||e.forEach((o,t)=>{o.key=t}),V(w,this._displayedTodos).then(()=>{console.log("data saved successfully")}).catch(o=>{console.warn("error",o)})},saveTodo(e){const o=b(I,"todos/"+e.key);V(o,e).then(()=>{console.log("data saved successfully")}).catch(t=>{console.warn("error",t)})},loadOnboardingTodos(){this._displayedTodos=ce(),this.saveAllTodos()}}});var S=(e,o)=>{const t=e.__vccOpts||e;for(const[s,d]of o)t[s]=d;return t};const re={class:"background"},ie=T({setup(e){const o=G();function t(){console.log("Load Onboarding Todos"),o.loadOnboardingTodos()}return(s,d)=>(p(),h("div",re,[l("p",{class:"message",onClick:t},"Load Onboarding Todos?")]))}});var ue=S(ie,[["__scopeId","data-v-ae225676"]]);const pe=e=>(L("data-v-1b249b14"),e=e(),$(),e),fe={class:"view"},_e=pe(()=>l("input",{class:"edit",value:"Create a TodoMVC template"},null,-1)),he=T({props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue","destroyTodo"],setup(e,{emit:o}){const t=e,s=v(t.modelValue.checked),d=v(t.modelValue.message);x(()=>t.modelValue,r=>{r.checked!==s.value&&(s.value=r.checked),r.message!==d.value&&(d.value=r.message)}),x(()=>d.value,r=>{console.log("newMessage",r);const u=t.modelValue;u.message=r,o("update:modelValue",u)});function a(){console.log("toggleChecked",t.modelValue.checked);const r=t.modelValue;r.checked=t.modelValue.checked,s.value=t.modelValue.checked,o("update:modelValue",r)}function c(){console.log("destroy",t.modelValue.id),o("destroyTodo")}return(r,u)=>(p(),h("li",null,[l("div",fe,[D(l("input",{class:"toggle",title:"Toggle Checkbox",type:"checkbox","onUpdate:modelValue":[u[0]||(u[0]=m=>t.modelValue.checked=m),a]},null,512),[[X,t.modelValue.checked]]),l("label",null,[D(l("input",{type:"text",class:N({completed:s.value}),"onUpdate:modelValue":u[1]||(u[1]=m=>d.value=m)},null,2),[[R,d.value]])]),l("button",{class:"destroy",title:"Delete Todo",onClick:c})]),_e]))}});var me=S(he,[["__scopeId","data-v-1b249b14"]]);const B=e=>(L("data-v-365c4e15"),e=e(),$(),e),ye={class:"todoapp"},ve={class:"header"},Te=B(()=>l("h1",null,"Todos",-1)),ge=["onKeypress"],ke={class:"main"},Ee=B(()=>l("input",{id:"toggle-all",class:"toggle-all",type:"checkbox"},null,-1)),be={key:0,class:"todo-list"},De={class:"footer"},Ie={class:"todo-count"},Ne={class:"filters"},Se=T({setup(e){const o=G();o.loadData(),o.tasksLeft;const t=v(""),s=v(i.UNSORTED);function d(f){o.destroyTodo(f),console.log("destroyTodo from parent",f)}function a(){o.clearCompleted()}function c(f){o.setFilter(f)}function r(){s.value=(s.value+1)%3,s.value===i.UNSORTED&&console.log("sortTodos","SortState.UNSORTED"),s.value===i.ASCENDING&&console.log("sortTodos","SortState.ASCENDING"),s.value===i.DESCENDING&&console.log("sortTodos","SortState.DESCENDING"),o.setSort(s.value)}function u(f){o.updateTodo(f)}function m(){console.log("addTodo",t.value),o.addTodo(t.value),t.value=""}return console.log("hello from app.vue",o.todos),(f,C)=>{const K=me,M=ue,g=se;return p(),h("section",ye,[l("header",ve,[Te,D(l("input",{class:"new-todo",onKeypress:Z(m,["enter"]),placeholder:"What needs to be done?",autofocus:"","onUpdate:modelValue":C[0]||(C[0]=_=>t.value=_)},null,40,ge),[[R,t.value]])]),l("section",ke,[Ee,l("label",{onClick:r,for:"sort-todos",title:"Sort Todos",class:N({"sort-arrow":!0,"sort-arrow-right":s.value===n(i).UNSORTED,"sort-arrow-up":s.value===n(i).ASCENDING,"sort-arrow-down":s.value===n(i).DESCENDING})}," Sort Todos",2),n(o).todos?(p(),h("ul",be,[(p(!0),h(H,null,J(n(o).todos,_=>(p(),O(K,{key:_.id,modelValue:n(o).todos[n(o).todos.findIndex(y=>_.id===y.id)],"onUpdate:modelValue":[y=>n(o).todos[n(o).todos.findIndex(P=>_.id===P.id)]=y,y=>u(_)],onDestroyTodo:y=>d(_)},null,8,["modelValue","onUpdate:modelValue","onDestroyTodo"]))),128)),n(o).todos.length===0?(p(),O(M,{key:0})):A("",!0)])):A("",!0)]),l("footer",De,[l("span",Ie,[l("strong",null,E(n(o).tasksLeft),1),Q(" item"+E(n(o).tasksLeft===1?"":"s")+" left",1)]),l("ul",Ne,[l("li",null,[k(g,{type:"button",onClick:c,active:n(o).filter==="all",label:{displayText:"All",value:"all"}},null,8,["active"])]),l("li",null,[k(g,{type:"button",onClick:c,active:n(o).filter==="unchecked",label:{displayText:"Unchecked",value:"unchecked"}},null,8,["active"])]),l("li",null,[k(g,{type:"button",onClick:c,active:n(o).filter==="checked",label:{displayText:"Checked",value:"checked"}},null,8,["active"])])]),l("button",{type:"button",onClick:a,class:"clear-completed"}," Clear completed ")])])}}});var Ce=S(Se,[["__scopeId","data-v-365c4e15"]]);const F=ee(Ce),Ve=oe();F.use(Ve);F.mount("#app");
